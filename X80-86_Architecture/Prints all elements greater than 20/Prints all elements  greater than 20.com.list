EMU8086 GENERATED LISTING. MACHINE CODE <- SOURCE.
 
Prints all elements  greater than 20.com -- emu8086 assembler version: 4.08  
 
[ 8/19/2025  --  5:23:30 AM ] 
 
===================================================================================================
[LINE]     LOC: MACHINE CODE                          SOURCE
===================================================================================================
 
[   1]        :                                       org 100h
[   2]        :                                       
[   3]    0100: EB 3A                                 .data
[   4]    0102: 22 51 17 1A 04 0D 07 06 18 47         data db 34,81,23,26,4,13,7,6,24,71
[   5]    010C:                                       count equ $-data
[   6]    010C: 41 6C 6C 20 45 6C 65 6D 65 6E 74 73   msgA db 'All Elements:',13,10,'$'
                3A 0D 0A 24                         
[   7]    011C: 56 61 6C 75 65 73 20 67 72 65 61 74   msgB db 'Values greater than 20:',13,10,'$'
                65 72 20 74 68 61 6E 20 32 30 3A 0D 
                0A 24                               
[   8]    0136: 00 00 00 00 00 00                     buffer db 6 dup(?)      ; buffer for fast decimal printing
[   9]        :                                       
[  10]    013C:                                       .code
[  11]    013C:                                       start:
[  12]        :                                       ; ----------------------
[  13]        :                                       ; Print all elements
[  14]        :                                       ; ----------------------
[  15]    013C: BA 0C 01                              mov dx, offset msgA
[  16]    013F: E8 74 00                              call PRINT_STR
[  17]    0142: BE 02 01                              mov si, offset data
[  18]    0145: B9 0A 00                              mov cx, count
[  19]    0148:                                       p_all:
[  20]    0148: 8A 04                                 mov al, [si]
[  21]    014A: E8 26 00                              call PRINT_BYTE
[  22]    014D: E8 6B 00                              call PRINT_NL
[  23]    0150: 46                                    inc si
[  24]    0151: E2 F5                                 loop p_all
[  25]        :                                       
[  26]        :                                       ; ----------------------
[  27]        :                                       ; Print values > 20
[  28]        :                                       ; ----------------------
[  29]    0153: BA 1C 01                              mov dx, offset msgB
[  30]    0156: E8 5D 00                              call PRINT_STR
[  31]    0159: BE 02 01                              mov si, offset data
[  32]    015C: B9 0A 00                              mov cx, count
[  33]    015F:                                       p_gt20:
[  34]    015F: 8A 04                                 mov al, [si]
[  35]    0161: 3C 14                                 cmp al, 20
[  36]    0163: 7E 06                                 jle skip_gt20
[  37]    0165: E8 0B 00                              call PRINT_BYTE
[  38]    0168: E8 50 00                              call PRINT_NL
[  39]    016B:                                       skip_gt20:
[  40]    016B: 46                                    inc si
[  41]    016C: E2 F1                                 loop p_gt20
[  42]        :                                       
[  43]        :                                       ; Exit
[  44]    016E: B8 00 4C                              mov ax, 4C00h
[  45]    0171: CD 21                                 int 21h
[  46]        :                                       
[  47]        :                                       ; ======================
[  48]        :                                       ; Utils
[  49]        :                                       ; ======================
[  50]        :                                       
[  51]        :                                       ; Print unsigned byte in AL
[  52]    0173:                                       PRINT_BYTE proc
[  53]    0173: B4 00                                 mov ah, 0
[  54]    0175: E8 01 00                              call PRINT_NUM
[  55]    0178: C3                                    ret
[  56]        :                                       PRINT_BYTE endp
[  57]        :                                       
[  58]        :                                       ; Fast Print decimal AX using buffer
[  59]    0179:                                       PRINT_NUM proc
[  60]    0179: 50                                    push ax
[  61]    017A: 53                                    push bx
[  62]    017B: 51                                    push cx
[  63]    017C: 52                                    push dx
[  64]    017D: 56                                    push si
[  65]        :                                       
[  66]    017E: BE 36 01                              mov si, offset buffer
[  67]    0181: BB 0A 00                              mov bx, 10
[  68]    0184: 33 C9                                 xor cx, cx
[  69]        :                                       
[  70]    0186: 3D 00 00                              cmp ax, 0
[  71]    0189: 75 06                                 jne pn_loop
[  72]    018B: C6 04 30                              mov byte ptr [si], '0'
[  73]    018E: 41                                    inc cx
[  74]    018F: EB 10                                 jmp pn_done
[  75]        :                                       
[  76]    0191:                                       pn_loop:
[  77]    0191: 33 D2                                 xor dx, dx
[  78]    0193: F7 F3                                 div bx              ; AX ÷ 10
[  79]    0195: 80 C2 30                              add dl, '0'
[  80]    0198: 88 14                                 mov [si], dl
[  81]    019A: 46                                    inc si
[  82]    019B: 41                                    inc cx
[  83]    019C: 3D 00 00                              cmp ax, 0
[  84]    019F: 75 F0                                 jne pn_loop
[  85]        :                                       
[  86]    01A1:                                       pn_done:
[  87]    01A1: BE 36 01                              mov si, offset buffer
[  88]    01A4: 03 F1                                 add si, cx
[  89]    01A6: 4E                                    dec si
[  90]    01A7:                                       print_digits:
[  91]    01A7: 8A 14                                 mov dl, [si]
[  92]    01A9: B4 02                                 mov ah, 02h
[  93]    01AB: CD 21                                 int 21h
[  94]    01AD: 4E                                    dec si
[  95]    01AE: E2 F7                                 loop print_digits
[  96]        :                                       
[  97]    01B0: 5E                                    pop si
[  98]    01B1: 5A                                    pop dx
[  99]    01B2: 59                                    pop cx
[ 100]    01B3: 5B                                    pop bx
[ 101]    01B4: 58                                    pop ax
[ 102]    01B5: C3                                    ret
[ 103]        :                                       PRINT_NUM endp
[ 104]        :                                       
[ 105]    01B6:                                       PRINT_STR proc
[ 106]    01B6: B4 09                                 mov ah,09h
[ 107]    01B8: CD 21                                 int 21h
[ 108]    01BA: C3                                    ret
[ 109]        :                                       PRINT_STR endp
[ 110]        :                                       
[ 111]    01BB:                                       PRINT_NL proc
[ 112]    01BB: B4 02                                 mov ah,02h
[ 113]    01BD: B2 0D                                 mov dl,0Dh
[ 114]    01BF: CD 21                                 int 21h
[ 115]    01C1: B2 0A                                 mov dl,0Ah
[ 116]    01C3: CD 21                                 int 21h
[ 117]    01C5: C3                                    ret
[ 118]        :                                       PRINT_NL endp
[ 119]        :                                       
[ 120]        :                                       
 
===================================================================================================
 




===================================================================================================
